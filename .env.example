# ResearchNow Environment Configuration
# Copy this file to .env and fill in your values

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================
APP_NAME=ResearchNow
VERSION=1.0.0
ENVIRONMENT=development
DEBUG=true
HOST=0.0.0.0
PORT=8000

# =============================================================================
# SECURITY
# =============================================================================
SECRET_KEY=change-this-to-a-random-secret-key-in-production
API_KEY_HEADER=X-API-Key

# CORS - Add your frontend URLs
CORS_ORIGINS=http://localhost:3000,http://localhost:3001,http://localhost:19006

# =============================================================================
# DATABASE - PostgreSQL
# =============================================================================
DATABASE_URL=postgresql://researchnow:password@localhost:5432/researchnow
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=10

# Docker PostgreSQL
POSTGRES_DB=researchnow
POSTGRES_USER=researchnow
POSTGRES_PASSWORD=changeme123

# =============================================================================
# VECTOR DATABASE - Qdrant
# =============================================================================
QDRANT_HOST=localhost
QDRANT_PORT=6333
QDRANT_COLLECTION_NAME=papers
QDRANT_VECTOR_SIZE=768

# =============================================================================
# CACHE - Redis
# =============================================================================
REDIS_URL=redis://localhost:6379/0
REDIS_PASSWORD=changeme123
CACHE_TTL=3600
CACHE_ENABLED=true

# =============================================================================
# TASK QUEUE - Celery & RabbitMQ
# =============================================================================
CELERY_BROKER_URL=amqp://guest:guest@localhost:5672//
CELERY_RESULT_BACKEND=redis://localhost:6379/1

# Docker RabbitMQ
RABBITMQ_USER=researchnow
RABBITMQ_PASSWORD=changeme123

# =============================================================================
# OBJECT STORAGE - MinIO / S3
# =============================================================================
MINIO_ENDPOINT=localhost:9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin123
MINIO_BUCKET_NAME=researchnow-papers
MINIO_SECURE=false

# Docker MinIO
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=minioadmin123

# =============================================================================
# EXTERNAL API KEYS - Paper Sources
# =============================================================================

# arXiv - No key required, just rate limit
ARXIV_BASE_URL=http://export.arxiv.org/api/query
ARXIV_RATE_LIMIT=3

# PubMed Central - Email required for polite mode
PUBMED_BASE_URL=https://eutils.ncbi.nlm.nih.gov/entrez/eutils/
PUBMED_API_KEY=
PUBMED_EMAIL=your-email@example.com

# CORE - Register at https://core.ac.uk/services/api
CORE_API_KEY=your_core_api_key_here
CORE_BASE_URL=https://api.core.ac.uk/v3
CORE_RATE_LIMIT=10

# Semantic Scholar - Optional, increases rate limits
SEMANTIC_SCHOLAR_API_KEY=
SEMANTIC_SCHOLAR_BASE_URL=https://api.semanticscholar.org/graph/v1
SEMANTIC_SCHOLAR_RATE_LIMIT=100

# Crossref - Email for polite pool
CROSSREF_BASE_URL=https://api.crossref.org
CROSSREF_EMAIL=your-email@example.com
CROSSREF_RATE_LIMIT=50

# OpenAlex - Email recommended
OPENALEX_BASE_URL=https://api.openalex.org
OPENALEX_EMAIL=your-email@example.com
OPENALEX_RATE_LIMIT=10

# DOAJ - Optional
DOAJ_API_KEY=
DOAJ_BASE_URL=https://doaj.org/api/v3

# =============================================================================
# AI MODELS - Llama 70B
# =============================================================================

# Ollama (Local) - Recommended
LLAMA_MODEL_NAME=llama2:70b
LLAMA_API_URL=http://localhost:11434
LLAMA_TEMPERATURE=0.3
LLAMA_MAX_TOKENS=2048
LLAMA_TOP_P=0.9

# =============================================================================
# AI MODELS - AELLA-Qwen
# =============================================================================
AELLA_MODEL_NAME=aella/qwen
AELLA_API_URL=http://localhost:8080
AELLA_TEMPERATURE=0.3
AELLA_MAX_TOKENS=2048

# =============================================================================
# EMBEDDING MODEL
# =============================================================================
EMBEDDING_MODEL_NAME=sentence-transformers/all-mpnet-base-v2
EMBEDDING_DEVICE=cuda
EMBEDDING_BATCH_SIZE=32

# =============================================================================
# FALLBACK AI SERVICES (Optional)
# =============================================================================

# OpenAI - Get key from https://platform.openai.com
OPENAI_API_KEY=
OPENAI_MODEL=gpt-4-turbo-preview

# Anthropic Claude
ANTHROPIC_API_KEY=

# HuggingFace - For gated models
HUGGINGFACE_TOKEN=

# =============================================================================
# SUMMARIZATION SETTINGS
# =============================================================================
SUMMARY_MIN_LENGTH=100
SUMMARY_MAX_LENGTH=500
SUMMARY_EXECUTIVE_LENGTH=200
SUMMARY_DETAILED_LENGTH=1000
SUMMARY_SIMPLIFICATION_LEVEL=high

# =============================================================================
# PAPER PROCESSING
# =============================================================================
MAX_PAPER_SIZE_MB=50
ALLOWED_PAPER_FORMATS=pdf,xml,txt,html
PARALLEL_DOWNLOADS=5
DOWNLOAD_TIMEOUT=300

# =============================================================================
# RATE LIMITING
# =============================================================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_PER_HOUR=1000

# =============================================================================
# PAGINATION
# =============================================================================
DEFAULT_PAGE_SIZE=20
MAX_PAGE_SIZE=100

# =============================================================================
# SEARCH SETTINGS
# =============================================================================
SEARCH_MIN_SCORE=0.5
SEARCH_MAX_RESULTS=1000
SEMANTIC_SEARCH_ENABLED=true

# =============================================================================
# BACKGROUND JOBS
# =============================================================================
ENABLE_BACKGROUND_JOBS=true
PAPER_SYNC_INTERVAL_HOURS=24
SUMMARY_BATCH_SIZE=10

# =============================================================================
# LOGGING
# =============================================================================
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_FILE=logs/researchnow.log

# =============================================================================
# MONITORING (Optional)
# =============================================================================
SENTRY_DSN=
ENABLE_METRICS=true
METRICS_PORT=9090

# Grafana
GRAFANA_USER=admin
GRAFANA_PASSWORD=admin

# =============================================================================
# FEATURE FLAGS
# =============================================================================
ENABLE_USER_ACCOUNTS=true
ENABLE_BOOKMARKS=true
ENABLE_COLLECTIONS=true
ENABLE_SHARING=true
ENABLE_ANNOTATIONS=false
ENABLE_CITATION_GRAPH=false

# =============================================================================
# WEB FRONTEND (Next.js)
# =============================================================================
NEXT_PUBLIC_API_URL=http://localhost:8000
NODE_ENV=development

# =============================================================================
# MOBILE APP
# =============================================================================
MOBILE_API_URL=http://localhost:8000

# =============================================================================
# PRODUCTION SETTINGS (Uncomment for production)
# =============================================================================
# ENVIRONMENT=production
# DEBUG=false
# NEXT_PUBLIC_API_URL=https://api.researchnow.app
# CORS_ORIGINS=https://researchnow.app,https://www.researchnow.app
# SENTRY_DSN=your_sentry_dsn
# ENABLE_METRICS=true
